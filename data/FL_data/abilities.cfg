#textdomain wesnoth-Forgotten_Legends

#define WEAPON_SPECIAL_AE_FGTN_SNIPER
    [chance_to_hit]
        id=flsniper
        name= _ "sniper"
        description= _ "When target enemy units is under effect of slow, this attack always has a 100% chance to hit regardless of the defensive ability of the unit being attacked."
        value=100
        cumulative=no
        [filter_opponent]
            [filter_wml]
                [status]
                    slowed=yes
                [/status]
            [/filter_wml]
        [/filter_opponent]
    [/chance_to_hit]
#enddef

#define AE_FL_WEAPON_SPECIAL_GOODEYE
    # Canned definition of the Good eye ability to be included in a
    # [specials] clause.
    [chance_to_hit]
        id=goodeye
        name= _ "good eye"
        description= _ "When used offensively, this attack always has at least a 50% chance to hit."
        value=50
        cumulative=yes
        active_on=offense
    [/chance_to_hit]
#enddef

#define AE_FL_ABILITY_BROTHER
    [leadership]
        id=leadership
        value=25
        cumulative=no
        name= _ "brotherhood"
        female_name= _ "brotherhood"
        description= _ "Each sword brother makes adjacent sword brother units fight better."
        affect_self=no
        [affect_adjacent]
            adjacent=n,ne,se,s,sw,nw
            [filter]
                type=AE_FL_altaris_Sword_Brother,AE_FL_altaris_Master_at_Arms
            [/filter]
        [/affect_adjacent]
    [/leadership]
#enddef

#define AE_FL_ABILITY_STEELSKIN
    # Canned definition of the Steadfast ability to be included in an [abilities]
    # clause.
    [resistance]
        id=steelskin
        multiply=2
        max_value=65
        # applies to any type if we leave it out
        #apply_to=blade,pierce,impact,fire,cold,arcane
        [filter_base_value]
            greater_than=0
            less_than=65
        [/filter_base_value]
        name= _ "steelskin"
        female_name= _ "steelskin"
        description= _ "This unit's resistances are doubled, up to a maximum of 65%, when defending."
        affect_self=yes
        active_on=defense
    [/resistance]
#enddef

#define AE_FL_ABILITY_DEFENDER
    [resistance]
        id=flddefender
        add=10
        max_value=40
        apply_to=blade,pierce,impact,fire,cold,arcane
        name= _ "defender"
        description= _ "Adjacent units gain +10% to all their resistances, up to a maximum of 40%."
        affect_self=no
        affect_allies=yes
        [affect_adjacent]
            adjacent=n,ne,se,s,sw,nw
        [/affect_adjacent]
        [filter_base_value]
            less_than=40
        [/filter_base_value]
    [/resistance]
#enddef

#define AE_FL_ABILITY_LEADERSHIP_MONSTERS_2
    [leadership]
        id=leadership
        value=10
        cumulative=no
        name= _ "monster trainer"
        description= _ "This unit can lead our own monsters that are next to it, making them fight better."
        affect_self=no
        [affect_adjacent]
            adjacent=n,ne,se,s,sw,nw
            [filter]
                race=monster
                level=2
            [/filter]
        [/affect_adjacent]
    [/leadership]
    [leadership]
        id=leadership
        value=30
        cumulative=no
        affect_self=no
        [affect_adjacent]
            adjacent=n,ne,se,s,sw,nw
            [filter]
                race=monster
                level=1
            [/filter]
        [/affect_adjacent]
    [/leadership]
    [leadership]
        id=leadership
        value=60
        cumulative=no
        affect_self=no
        [affect_adjacent]
            adjacent=n,ne,se,s,sw,nw
            [filter]
                race=monster
                level=0
            [/filter]
        [/affect_adjacent]
    [/leadership]
#enddef

#define AE_FL_ABILITY_LEADERSHIP_MONSTERS_3
    [leadership]
        id=leadership
        value=10
        cumulative=no
        name= _ "monster trainer"
        description= _ "This unit can lead our own monsters that are next to it, making them fight better."
        affect_self=no
        [affect_adjacent]
            adjacent=n,ne,se,s,sw,nw
            [filter]
                race=monster
                level=3
            [/filter]
        [/affect_adjacent]
    [/leadership]
    [leadership]
        id=leadership
        value=30
        cumulative=no
        affect_self=no
        [affect_adjacent]
            adjacent=n,ne,se,s,sw,nw
            [filter]
                race=monster
                level=2
            [/filter]
        [/affect_adjacent]
    [/leadership]
    [leadership]
        id=leadership
        value=60
        cumulative=no
        affect_self=no
        [affect_adjacent]
            adjacent=n,ne,se,s,sw,nw
            [filter]
                race=monster
                level=1
            [/filter]
        [/affect_adjacent]
    [/leadership]
    [leadership]
        id=leadership
        value=90
        cumulative=no
        affect_self=no
        [affect_adjacent]
            adjacent=n,ne,se,s,sw,nw
            [filter]
                race=monster
                level=0
            [/filter]
        [/affect_adjacent]
    [/leadership]
#enddef

#define ABILITY_AE_MAG_MOUNTAINAMBUSHSTERHEAL
    [heals]
        value=10
        id=healing
        affect_allies=yes
        name= _ "heals +10"
        female_name= _ "female^heals +10"
        description= _ "Allows the unit to significantly heal adjacent allied units at the beginning of our turn.
		
A unit cared for by this healer may heal up to 10 HP per turn, or stop poison from taking effect for that turn."
        affect_self=no
        poison=cured
        [affect_adjacent]
            adjacent=n,ne,se,s,sw,nw
        [/affect_adjacent]
    [/heals]
#enddef

#define AE_FL_ABILITY_ULTIMATEHEAL
    [heals]
        value=12
        id=healing
        affect_allies=yes
        name= _ "heals +12"
        female_name= _ "female^heals +12"
        description= _ "This unit mastered healing magic to perfection.
		
A unit cared for by this healer may heal up to 12 HP per turn, or stop poison from taking effect for that turn."
        affect_self=no
        poison=cured
        [affect_adjacent]
            adjacent=n,ne,se,s,sw,nw
        [/affect_adjacent]
    [/heals]
#enddef

#define AE_FL_ABILITY_SHADOWAURA
    [leadership]
        id=auraofweakness
        value=-25
        cumulative=no
        name= _ "weakening aura"
        description= _ "Weakening aura makes all enemies next to it fight worse. (-25% damage)"
        affect_self=no
        affect_allies=no
        affect_enemies=yes
        [affect_adjacent]
            adjacent=n,ne,se,s,sw,nw
        [/affect_adjacent]
    [/leadership]
#enddef

#define AE_FL_ABILITY_AURA_OF_LIFE
    [leadership]
        id=auraoflife
        value=25
        cumulative=no
        name= _ "aura of life"
        description= _ "Adjacent units deal 25% more damage and gain +20% to all their magic resistances, +10% to all their physical resistances, up to a maximum of 50%."
        affect_self=no
        affect_allies=yes
        [affect_adjacent]
            adjacent=n,ne,se,s,sw,nw
        [/affect_adjacent]
    [/leadership]
    [resistance]
        id=auraoflife
        add=20
        max_value=50
        apply_to=fire,cold,arcane
        name= _ ""
        affect_self=no
        affect_allies=yes
        [affect_adjacent]
            adjacent=n,ne,se,s,sw,nw
        [/affect_adjacent]
        [filter_base_value]
            less_than=50
        [/filter_base_value]
    [/resistance]
    [resistance]
        id=auraoflife
        add=10
        max_value=50
        apply_to=blade,pierce,impact
        name= _ ""
        affect_self=no
        affect_allies=yes
        [affect_adjacent]
            adjacent=n,ne,se,s,sw,nw
        [/affect_adjacent]
        [filter_base_value]
            less_than=50
        [/filter_base_value]
    [/resistance]
#enddef

#define ABILITY_AE_FGTN_AWE
    [attacks]
        id=flawe
        multiply=0.35
        apply_to=opponent
        [filter_opponent]
            level=0
        [/filter_opponent]
    [/attacks]
    [attacks]
        id=flawe
        multiply=0.5
        apply_to=opponent
        [filter_opponent]
            level=1
        [/filter_opponent]
    [/attacks]
    [attacks]
        id=flawe
        multiply=0.75
        apply_to=opponent
        [filter_opponent]
            level=2
        [/filter_opponent]
    [/attacks]
#enddef
#define ABILITY_AE_FGTN_AWETXT
    [dummy]
        id=flawetxt
        name= _ "awe"
        description= _ "Low level enemy units lose strikes when fighting versus in melee combat."
    [/dummy]
#enddef
#define ABILITY_AE_FGTN_PHOE
    [dummy]
        id=reinkarnacja
        name= _ "reincarnation"
        description= _ "After death, phoenix resurrects as level 1 unit."
    [/dummy]
    # wmllint: unbalanced-on
    # wmlxgettext: [abilities]
[/abilities]
[event]
    name=last breath
    first_time_only=no
    id=AE_FL_bloodelf_Phoenix_revive_event
    [filter]
        type=AE_FL_bloodelf_Phoenix
    [/filter]
    {ADVANCE_UNIT (x,y=$x1,$y1) "AE_FL_bloodelf_Phoenix_Hatchling"}
[/event]
[+abilities]
    # wmlxgettext: [/abilities]
    # wmllint: unbalanced-off
#enddef

#define AE_FL_WEAPON_SPECIAL_EAGLE_EYE
    [chance_to_hit]
        id=AE_FGTNL_Deagle_eye
        name= _ "eagle eye"
        description= _ "When used offensively, this attack always has at least a 70% chance to hit."
        value=70
        cumulative=yes
        active_on=offense
    [/chance_to_hit]
#enddef

#define WEAPON_SPECIAL_AE_FGTN_DAIRATTACK
    [damage]
        id=AE_FGTNL_Dnajazd
        name= _ "airborne strike"
        name_inactive= _ "airborne strike"
        description= _ "When used offensively, attacker and defender take 50% more damage. Attacker's chance to hit is 10% higher and defender's chance to hit is 10% lower."
        description_inactive= _ "When used offensively, attacker and defender take 50% more damage. Attacker's chance to hit is 10% higher and defender's chance to hit is 10% lower."
        active_on=offense
        apply_to=both
        multiply=1.5
    [/damage]
    [chance_to_hit]
        id=AE_FGTNL_Dnajazd3
        name= _ ""
        active_on=offense
        add=-10
        apply_to=opponent
    [/chance_to_hit]
    [chance_to_hit]
        id=AE_FGTNL_Dnajazd4
        name= _ ""
        active_on=offense
        add=10
        apply_to=self
    [/chance_to_hit]
#enddef

#define AE_FL_ABILITY_SUMMON_GOLEM
    [dummy]
        id=AE_FN_summon_golem
        name= _ "create a golem"
        description= _ "This unit can create golems, but not in villages."
    [/dummy]
    # wmllint: unbalanced-on
    # wmlxgettext: [abilities]
[/abilities]

[event]
    name=start
    id=AE_FN_summon_golem_start
    [if]
        [have_unit]
            ability=AE_FN_summon_golem
        [/have_unit]
        [then]
            {AE_FL_SUMMON_GOLEM_MENU}
        [/then]
    [/if]
[/event]

[event]
    name=recruit
    id=AE_FN_summon_golem_recruit
    [filter]
        ability=AE_FN_summon_golem
    [/filter]
    {AE_FL_SUMMON_GOLEM_MENU}
[/event]

[event]
    name=post_advance
    id=AE_FN_summon_golem_post_advance
    [filter]
        ability=AE_FN_summon_golem
    [/filter]
    {AE_FL_SUMMON_GOLEM_MENU}
[/event]

[+abilities]
    # wmlxgettext: [/abilities]
    # wmllint: unbalanced-off
#enddef

#define AE_FL_SUMMON_GOLEM_MENU
    {SUMMON_MENU_ITEM AE_FL_golem_menu ( _ "Create a golem (16 Gold)") 16 AE_FN_summon_golem (AE_FL_altaris_Golem)}
#enddef

#define AE_FL_ABILITY_SUMMON_REPLICATE0
    [dummy]
        id=AE_FL_summon_replicate0
        name= _ "replicate"
        description= _ "This unit can replicate itself, but not in villages.

Replications have 3hp, 5 movement and can't reproduce any further. Replications will have base damages in case the unit had external upgrades."
    [/dummy]
    # wmllint: unbalanced-on
    # wmlxgettext: [abilities]
[/abilities]

[event]
    name=start
    id=AE_FL_summon_replicate0_start
    [if]
        [have_unit]
            ability=AE_FL_summon_replicate0
        [/have_unit]
        [then]
            {AE_FL_SUMMON_REPLICATE0_MENU}
        [/then]
    [/if]
[/event]

[event]
    name=recruit
    id=AE_FL_summon_replicate0_recruit
    [filter]
        ability=AE_FL_summon_replicate0
    [/filter]
    {AE_FL_SUMMON_REPLICATE0_MENU}
[/event]

[event]
    name=post_advance
    id=AE_FL_summon_replicate0_post_advance
    [filter]
        ability=AE_FL_summon_replicate0
    [/filter]
    {AE_FL_SUMMON_REPLICATE0_MENU}
[/event]

[+abilities]
    # wmlxgettext: [/abilities]
    # wmllint: unbalanced-off
#enddef

#define AE_FL_SUMMON_REPLICATE0_MENU
    {SUMMON_MENU_ITEM AE_FL_replicate0_menu ( _ "Replicate unit (6 Gold)") 6 AE_FL_summon_replicate0 (AE_FL_altaris_Conjurer)}
#enddef

#define AE_FL_ABILITY_SUMMON_REPLICATE
    [dummy]
        id=AE_FL_summon_replicate
        name= _ "replicate"
        description= _ "This unit can replicate itself, but not in villages.

Replications have 3hp and can't reproduce any further. Replications will have base damages in case the unit had external upgrades."
    [/dummy]
    # wmllint: unbalanced-on
    # wmlxgettext: [abilities]
[/abilities]

[event]
    name=start
    id=AE_FL_summon_replicate_start
    [if]
        [have_unit]
            ability=AE_FL_summon_replicate
        [/have_unit]
        [then]
            {AE_FL_SUMMON_REPLICATE_MENU}
        [/then]
    [/if]
[/event]

[event]
    name=recruit
    id=AE_FL_summon_replicate_recruit
    [filter]
        ability=AE_FL_summon_replicate
    [/filter]
    {AE_FL_SUMMON_REPLICATE_MENU}
[/event]

[event]
    name=post_advance
    id=AE_FL_summon_replicate_post_advance
    [filter]
        ability=AE_FL_summon_replicate
    [/filter]
    {AE_FL_SUMMON_REPLICATE_MENU}
[/event]

[+abilities]
    # wmlxgettext: [/abilities]
    # wmllint: unbalanced-off
#enddef

#define AE_FL_SUMMON_REPLICATE_MENU
    {SUMMON_MENU_ITEM AE_FL_replicate_menu ( _ "Replicate unit (8 Gold)") 8 AE_FL_summon_replicate (AE_FL_altaris_Illusionist)}
#enddef

#define AE_FL_ABILITY_SUMMON_REPLICATE2
    [dummy]
        id=AE_FL_summon_replicate2
        name= _ "replicate"
        description= _ "This unit can replicate itself, but not in villages.

Replications have 3hp and can't reproduce any further. Replications will have base damages in case the unit had external upgrades."
    [/dummy]
    # wmllint: unbalanced-on
    # wmlxgettext: [abilities]
[/abilities]

[event]
    name=start
    id=AE_FL_summon_replicate2_start
    [if]
        [have_unit]
            ability=AE_FL_summon_replicate2
        [/have_unit]
        [then]
            {AE_FL_SUMMON_REPLICATE2_MENU}
        [/then]
    [/if]
[/event]

[event]
    name=recruit
    id=AE_FL_summon_replicate2_recruit
    [filter]
        ability=AE_FL_summon_replicate2
    [/filter]
    {AE_FL_SUMMON_REPLICATE2_MENU}
[/event]

[event]
    name=post_advance
    id=AE_FL_summon_replicate2_post_advance
    [filter]
        ability=AE_FL_summon_replicate2
    [/filter]
    {AE_FL_SUMMON_REPLICATE2_MENU}
[/event]

[+abilities]
    # wmlxgettext: [/abilities]
    # wmllint: unbalanced-off
#enddef

#define AE_FL_SUMMON_REPLICATE2_MENU
    {SUMMON_MENU_ITEM AE_FL_replicate2_menu ( _ "Replicate unit (13 Gold)") 13 AE_FL_summon_replicate2 (AE_FL_altaris_Master_of_Illusion)}
#enddef
