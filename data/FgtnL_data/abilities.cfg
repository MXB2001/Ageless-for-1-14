#textdomain wesnoth-Forgotten_Legends

#define ABILITY_CHOSEN_TELEPORTATION
    [teleport]
        id=chosen_teleporation
        name= _ "battle teleporation"
        description= _ "This unit can teleport to any enemy unit whose hitpoints are below 20%."
        [tunnel]
            id=chosen_teleport
            [source]
                [filter]
                    id=$teleport_unit.id
                [/filter]
            [/source]

            [target]
                [filter_adjacent_location]
                    [filter]
                        [filter_side]
                            [enemy_of]
                                side=$teleport_unit.side
                            [/enemy_of]
                        [/filter_side]
                        formula="(($this_unit.max_hitpoints) / ($this_unit.hitpoints)) > 4"
                    [/filter]
                [/filter_adjacent_location]
                [not]
                    [filter]
                    [/filter]
                [/not]
            [/target]

            [filter]
                ability=chosen_teleporation
            [/filter]
        [/tunnel]
    [/teleport]
    # wmllint: unbalanced-on
    # wmlxgettext: [abilities]
[/abilities]
[event]
    name=enter_hex
    first_time_only=no
    [filter]
        ability=chosen_teleporation
        [filter_location]
            [filter_adjacent_location]
                [filter]
                    [filter_side]
                        [enemy_of]
                            side=$side_number
                        [/enemy_of]
                    [/filter_side]
                    [not]
                        level=0
                    [/not]
                    [not]
                        [filter_wml]
                            [status]
                                petrified=yes
                            [/status]
                        [/filter_wml]
                    [/not]
                [/filter]
            [/filter_adjacent_location]
        [/filter_location]
    [/filter]
    [modify_unit]
        [filter]
            id=$unit.id
        [/filter]
        moves=0
    [/modify_unit]
[/event]
[+abilities]
    # wmlxgettext: [/abilities]
    # wmllint: unbalanced-off
#enddef
#define WEAPON_SPECIAL_FLSNIPER
    [chance_to_hit]
        id=flsniper
        name= _ "sniper"
        description= _ "When target enemy units is under effect of slow, this attack always has a 100% chance to hit regardless of the defensive ability of the unit being attacked."
        value=100
        cumulative=no
        [filter_opponent]
            [filter_wml]
                [status]
                    slowed=yes
                [/status]
            [/filter_wml]
        [/filter_opponent]
    [/chance_to_hit]
#enddef
#define WEAPON_SPECIAL_ATTACKONLY
    #use in conjuction with defense_weight zero
    [dummy]
        id=attackonly
        name= _ "attack only"
        description= _ "This attack can only be used offensively."
        name_inactive= _ "attack only"
        description_inactive= _ "This attack can only be used offensively."
    [/dummy]
#enddef

#define WEAPON_SPECIAL_NOCOUNTERATTACK
    [attacks]
        id=nocounter
        name= _ "no counter-attack"
        description=_"The opponent cannot retaliate, when this unit is attacking. Does not work on opponents with berserker frenzy."
        value=0
        cumulative=no
        active_on=offense
        apply_to=opponent

        [filter_opponent]
            [filter_weapon]
                [not]
                    special=berserk
                [/not]
            [/filter_weapon]
        [/filter_opponent]
    [/attacks]
#enddef

#define WEAPON_SPECIAL_GOODEYE
    # Canned definition of the Good eye ability to be included in a
    # [specials] clause.
    [chance_to_hit]
        id=goodeye
        name= _ "good eye"
        description= _ "When used offensively, this attack always has at least a 50% chance to hit."
        value=50
        cumulative=yes
        active_on=offense
    [/chance_to_hit]
#enddef

#define FL_CHARM_TXT_AMA
    [damage]
        id=charmtxt
        name= _ "charm"
        name_inactive= _ "charm"
        description=_ "Lower level enemy units join attacker's side when hit by this ability."
        description_inactive= _ "Lower level enemy units join attacker's side when hit by this ability."
    [/damage]
#enddef

#define ABILITY_BROTHER
    [leadership]
        id=leadership
        value=25
        cumulative=no
        name= _ "brotherhood"
        female_name= _ "brotherhood"
        description= _ "Each sword brother makes adjacent sword brother units fight better."
        affect_self=no
        [affect_adjacent]
            adjacent=n,ne,se,s,sw,nw
            [filter]
                type=FLDbrat,FLDbroni
            [/filter]
        [/affect_adjacent]
    [/leadership]
#enddef

#define ABILITY_MA
    [hides]
        id=mountainambush
        name= _ "mountain ambush"
        name_inactive= _ "mountain ambush"
        description= _ "This unit can hide in mountains, and remain undetected by its enemies.
Enemy units cannot see this unit while it is in mountains, except if they have units next to it. Any enemy unit that first discovers this unit immediately loses all its remaining movement."
        description_inactive= _ "This unit can hide in mountains, and remain undetected by its enemies.
Enemy units cannot see this unit while it is in mountains, except if they have units next to it. Any enemy unit that first discovers this unit immediately loses all its remaining movement."
        affect_self=yes
        [filter_self]
            [filter_location]
                terrain=Md,Mm,Ms
            [/filter_location]
        [/filter_self]
    [/hides]
#enddef

#define ABILITY_STEELSKIN
    # Canned definition of the Steadfast ability to be included in an [abilities]
    # clause.
    [resistance]
        id=steelskin
        multiply=2
        max_value=65
        # applies to any type if we leave it out
        #apply_to=blade,pierce,impact,fire,cold,arcane
        [filter_base_value]
            greater_than=0
            less_than=65
        [/filter_base_value]
        name= _ "steelskin"
        female_name= _ "steelskin"
        description= _ "This unit's resistances are doubled, up to a maximum of 65%, when defending."
        affect_self=yes
        active_on=defense
    [/resistance]
#enddef

#define ABILITY_DEFENDER
    [resistance]
        id=flddefender
        add=10
        max_value=40
        apply_to=blade,pierce,impact,fire,cold,arcane
        name= _ "defender"
        description= _ "Adjacent units gain +10% to all their resistances, up to a maximum of 40%."
        affect_self=no
        affect_allies=yes
        [affect_adjacent]
            adjacent=n,ne,se,s,sw,nw
        [/affect_adjacent]
        [filter_base_value]
            less_than=40
        [/filter_base_value]
    [/resistance]
#enddef

#define ABILITY_LEADERSHIP_MONSTERS_2
    [leadership]
        id=leadership
        value=10
        cumulative=no
        name= _ "monster trainer"
        description= _ "This unit can lead our own monsters that are next to it, making them fight better."
        affect_self=no
        [affect_adjacent]
            adjacent=n,ne,se,s,sw,nw
            [filter]
                race=monster
                level=2
            [/filter]
        [/affect_adjacent]
    [/leadership]
    [leadership]
        id=leadership
        value=30
        cumulative=no
        affect_self=no
        [affect_adjacent]
            adjacent=n,ne,se,s,sw,nw
            [filter]
                race=monster
                level=1
            [/filter]
        [/affect_adjacent]
    [/leadership]
    [leadership]
        id=leadership
        value=60
        cumulative=no
        affect_self=no
        [affect_adjacent]
            adjacent=n,ne,se,s,sw,nw
            [filter]
                race=monster
                level=0
            [/filter]
        [/affect_adjacent]
    [/leadership]
#enddef

#define ABILITY_LEADERSHIP_MONSTERS_3
    [leadership]
        id=leadership
        value=10
        cumulative=no
        name= _ "monster trainer"
        description= _ "This unit can lead our own monsters that are next to it, making them fight better."
        affect_self=no
        [affect_adjacent]
            adjacent=n,ne,se,s,sw,nw
            [filter]
                race=monster
                level=3
            [/filter]
        [/affect_adjacent]
    [/leadership]
    [leadership]
        id=leadership
        value=30
        cumulative=no
        affect_self=no
        [affect_adjacent]
            adjacent=n,ne,se,s,sw,nw
            [filter]
                race=monster
                level=2
            [/filter]
        [/affect_adjacent]
    [/leadership]
    [leadership]
        id=leadership
        value=60
        cumulative=no
        affect_self=no
        [affect_adjacent]
            adjacent=n,ne,se,s,sw,nw
            [filter]
                race=monster
                level=1
            [/filter]
        [/affect_adjacent]
    [/leadership]
    [leadership]
        id=leadership
        value=90
        cumulative=no
        affect_self=no
        [affect_adjacent]
            adjacent=n,ne,se,s,sw,nw
            [filter]
                race=monster
                level=0
            [/filter]
        [/affect_adjacent]
    [/leadership]
#enddef

#define ABILITY_MASTERHEAL
    [heals]
        value=10
        id=healingFL
        affect_allies=yes
        name= _ "heals +10"
        female_name= _ "female^heals +10"
        description= _ "Allows the unit to significantly heal adjacent allied units at the beginning of our turn.
		
A unit cared for by this healer may heal up to 10 HP per turn, or stop poison from taking effect for that turn."
        affect_self=no
        poison=cured
        [affect_adjacent]
            adjacent=n,ne,se,s,sw,nw
        [/affect_adjacent]
    [/heals]
#enddef

#define ABILITY_ULTIMATEHEAL
    [heals]
        value=12
        id=healingFL
        affect_allies=yes
        name= _ "heals +12"
        female_name= _ "female^heals +12"
        description= _ "This unit mastered healing magic to perfection.
		
A unit cared for by this healer may heal up to 12 HP per turn, or stop poison from taking effect for that turn."
        affect_self=no
        poison=cured
        [affect_adjacent]
            adjacent=n,ne,se,s,sw,nw
        [/affect_adjacent]
    [/heals]
#enddef

#define ABILITY_SHADOWAURA
    [leadership]
        id=auraofweakness
        value=-25
        cumulative=no
        name= _ "weakening aura"
        description= _ "Weakening aura makes all enemies next to it fight worse. (-25% damage)"
        affect_self=no
        affect_allies=no
        affect_enemies=yes
        [affect_adjacent]
            adjacent=n,ne,se,s,sw,nw
        [/affect_adjacent]
    [/leadership]
#enddef

#define ABILITY_AURA_OF_LIFE
    [leadership]
        id=auraoflife
        value=25
        cumulative=no
        name= _ "aura of life"
        description= _ "Adjacent units deal 25% more damage and gain +20% to all their magic resistances, +10% to all their physical resistances, up to a maximum of 50%."
        affect_self=no
        affect_allies=yes
        [affect_adjacent]
            adjacent=n,ne,se,s,sw,nw
        [/affect_adjacent]
    [/leadership]
    [resistance]
        id=auraoflife
        add=20
        max_value=50
        apply_to=fire,cold,arcane
        name= _ ""
        affect_self=no
        affect_allies=yes
        [affect_adjacent]
            adjacent=n,ne,se,s,sw,nw
        [/affect_adjacent]
        [filter_base_value]
            less_than=50
        [/filter_base_value]
    [/resistance]
    [resistance]
        id=auraoflife
        add=10
        max_value=50
        apply_to=blade,pierce,impact
        name= _ ""
        affect_self=no
        affect_allies=yes
        [affect_adjacent]
            adjacent=n,ne,se,s,sw,nw
        [/affect_adjacent]
        [filter_base_value]
            less_than=50
        [/filter_base_value]
    [/resistance]
#enddef

#define WEAPON_SPECIAL_ALWAYS_HIT
    # Canned definition of the Good eye ability to be included in a
    # [specials] clause.
    [chance_to_hit]
        id=zawszetrafiafl
        name= _ "always hit"
        description= _ "This attack always has 100% chance to hit."
        value=100
        cumulative=no
    [/chance_to_hit]
#enddef

#define ABILITY_REGENERATES+4
    # Canned definition of the Regenerate ability to be included in an [abilities]
    # clause.
    [regenerate]
        value=4
        id=regenerujeFL
        name= _ "regenerates +4"
        description= _ "The unit will heal itself 4 HP per turn. If it is poisoned, it will remove the poison instead of healing."
        affect_self=yes
        poison=cured
    [/regenerate]
#enddef

#define ABILITY_REGENERATES+6
    [regenerate]
        value=6
        id=regenerujeFL6
        name= _ "regenerates +6"
        description= _ "The unit will heal itself 6 HP per turn. If it is poisoned, it will remove the poison instead of healing."
        affect_self=yes
        poison=cured
    [/regenerate]
#enddef

#define WEAPON_SPECIAL_PRECISION
    [chance_to_hit]
        id=precyzja
        name= _ "precision"
        description= _ "This attack always has at least an 80% chance to hit."
        value=80
        cumulative=yes
    [/chance_to_hit]
#enddef

#define WEAPON_SPECIAL_MISTIC
    [chance_to_hit]
        id=mistyczny
        name= _ "mystical"
        description= _ "This attack always has a 90% chance to hit regardless of the defensive ability of the unit being attacked."
        value=90
        cumulative=no
    [/chance_to_hit]
#enddef
#define WEAPON_SPECIAL_FLBERSERK
    [berserk]
        id=flberserk
        name= _ "lesser berserk"
        description= _ "This attack presses engagement for 5 rounds of attacks."
        value=5
    [/berserk]
#enddef
#define ABILITY_FL_AWE
    [attacks]
        id=flawe
        multiply=0.35
        apply_to=opponent
        [filter_opponent]
            level=0
        [/filter_opponent]
    [/attacks]
    [attacks]
        id=flawe
        multiply=0.5
        apply_to=opponent
        [filter_opponent]
            level=1
        [/filter_opponent]
    [/attacks]
    [attacks]
        id=flawe
        multiply=0.75
        apply_to=opponent
        [filter_opponent]
            level=2
        [/filter_opponent]
    [/attacks]
#enddef
#define ABILITY_FL_AWETXT
    [dummy]
        id=flawetxt
        name= _ "awe"
        description= _ "Low level enemy units lose strikes when fighting versus in melee combat."
    [/dummy]
#enddef
#define ABILITY_FLPHOE
    [dummy]
        id=reinkarnacja
        name= _ "reincarnation"
        description= _ "After death, phoenix resurrects as level 1 unit."
    [/dummy]
    # wmllint: unbalanced-on
    # wmlxgettext: [abilities]
[/abilities]
[event]
    name=last breath
    first_time_only=no
    [filter]
        type=FLfeniks3
    [/filter]
    {ADVANCE_UNIT (x,y=$x1,$y1) "FLfeniks"}
[/event]
[+abilities]
    # wmlxgettext: [/abilities]
    # wmllint: unbalanced-off
#enddef

#define WEAPON_SPECIAL_EAGLE_EYE
    [chance_to_hit]
        id=FLDeagle_eye
        name= _ "eagle eye"
        description= _ "When used offensively, this attack always has at least a 70% chance to hit."
        value=70
        cumulative=yes
        active_on=offense
    [/chance_to_hit]
#enddef

#define WEAPON_SPECIAL_FLDAIRATTACK
    [damage]
        id=FLDnajazd
        name= _ "airborne strike"
        name_inactive= _ "airborne strike"
        description= _ "When used offensively, attacker and defender take 50% more damage. Attacker's chance to hit is 10% higher and defender's chance to hit is 10% lower."
        description_inactive= _ "When used offensively, attacker and defender take 50% more damage. Attacker's chance to hit is 10% higher and defender's chance to hit is 10% lower."
        active_on=offense
        apply_to=both
        multiply=1.5
    [/damage]
    [chance_to_hit]
        id=FLDnajazd3
        name= _ ""
        active_on=offense
        add=-10
        apply_to=opponent
    [/chance_to_hit]
    [chance_to_hit]
        id=FLDnajazd4
        name= _ ""
        active_on=offense
        add=10
        apply_to=self
    [/chance_to_hit]
#enddef

#Menu Item Macro

#define SUMMON_MENU_ITEM ID DESCRIPTION COST ABILITY UNIT
    [set_menu_item]
        id=summon_{ID}
        description={DESCRIPTION}
        [show_if]
        [/show_if]

        [filter_location]
            [filter_adjacent_location]
                [filter]
                    ability={ABILITY}
                    side=$side_number
                    [filter_wml]
                        moves=$this_unit.max_moves
                    [/filter_wml]
                    [filter_location]
                        [not]
                            terrain=C*,K*
                        [/not]
                    [/filter_location]
                [/filter]
            [/filter_adjacent_location]
            [not]
                [filter]
                [/filter]
                [or]
                    terrain=_off^_usr,Q*,W*,*^X*,X*,*^V*
                [/or]
            [/not]
        [/filter_location]
        [command]
            [store_gold]
                variable=actualgold
                side=$side_number
            [/store_gold]
            [if]
                [variable]
                    name=actualgold
                    greater_than_equal_to={COST}
                [/variable]
                [then]
                    [gold]
                        amount=-{COST}
                        side=$side_number
                    [/gold]
                    [unit]
                        type={UNIT}
                        side=$side_number
                        x,y=$x1,$y1
                        moves=0
                        animate=yes
                    [/unit]
                    [store_unit]
                        variable=newunit
                        [filter]
                            x,y=$x1,$y1
                        [/filter]
                    [/store_unit]
                    [set_variable]
                        name=newunit.attacks_left
                        value=0
                    [/set_variable]
                    [unstore_unit]
                        variable=newunit
                        find_vacant=no
                    [/unstore_unit]
                    [set_variable]
                        name=newunit.moves
                        value=0
                    [/set_variable]
                    [store_unit]
                        [filter]
                            ability={ABILITY}
                            side=$side_number
                            [filter_wml]
                                moves=$this_unit.max_moves
                            [/filter_wml]
                            [filter_adjacent]
                                x,y=$x1,$y1
                            [/filter_adjacent]
                        [/filter]
                        variable=able_to_summon
                    [/store_unit]

                    [set_variable]
                        name=able_to_summon[0].attacks_left
                        value=0
                    [/set_variable]
                    [set_variable]
                        name=able_to_summon[0].moves
                        value=0
                    [/set_variable]

                    #{VARIABLE_OP able_to_summon[0].experience add 3}

                    [unstore_unit]
                        variable=able_to_summon[0]
                        find_vacant=no
                        #    text= _ "+$this_unit.level exp"
                        #    red,green,blue=50,50,200
                    [/unstore_unit]
                    {CLEAR_VARIABLE newunit}
                    {CLEAR_VARIABLE able_to_summon}
                [/then]
                [else]
                    [message]
                        speaker=narrator
                        side_for=$side_number
                        caption=_ "Error"
                        message= _ "I have insufficient materials. I am unable to summon."
                        image=wesnoth-icon.png
                    [/message]
                [/else]
            [/if]
            {CLEAR_VARIABLE actualgold}
        [/command]
    [/set_menu_item]
    ####
    ####
    [set_menu_item]
        id=summon_zhelp
        description= _ "Summoning - help"
        [show_if]
        [/show_if]

        [filter_location]
            [filter]
                type=FLDwiz2,FLDwiz3,FLDwladcaz,FLDskalnym
                side=$side_number
            [/filter]
        [/filter_location]
        [command]
            [message]
                speaker=narrator
                side_for=$side_number
                caption=_ "Help"
                message= _ "To summon a unit right-click on a free hex next to your summoner. You need all your move points and attacks to summon a unit. Summoning doesnt work in castles. New unit cant be summoned in water."
                image=wesnoth-icon.png
            [/message]
        [/command]
    [/set_menu_item]
#enddef

#define ABILITY_SUMMON_GOLEM
    [dummy]
        id=summon_golem
        name= _ "create a golem"
        description= _ "This unit can create golems, but not in villages."
    [/dummy]
    # wmllint: unbalanced-on
    # wmlxgettext: [abilities]
[/abilities]

[event]
    name=start
    [if]
        [have_unit]
            ability=summon_golem
        [/have_unit]
        [then]
            {SUMMON_GOLEM_MENU}
        [/then]
    [/if]
[/event]

[event]
    name=recruit
    [filter]
        ability=summon_golem
    [/filter]
    {SUMMON_GOLEM_MENU}
[/event]

[event]
    name=post_advance
    [filter]
        ability=summon_golem
    [/filter]
    {SUMMON_GOLEM_MENU}
[/event]

[+abilities]
    # wmlxgettext: [/abilities]
    # wmllint: unbalanced-off
#enddef

#define SUMMON_GOLEM_MENU
    {SUMMON_MENU_ITEM golem_menu ( _ "Create a golem (16 Gold)") 16 summon_golem (FLDgolem)}
#enddef

#define ABILITY_SUMMON_REPLICATE0
    [dummy]
        id=summon_replicate0
        name= _ "replicate"
        description= _ "This unit can replicate itself, but not in villages.

Replications have 3hp, 5 movement and can't reproduce any further. Replications will have base damages in case the unit had external upgrades."
    [/dummy]
    # wmllint: unbalanced-on
    # wmlxgettext: [abilities]
[/abilities]

[event]
    name=start
    [if]
        [have_unit]
            ability=summon_replicate0
        [/have_unit]
        [then]
            {SUMMON_REPLICATE0_MENU}
        [/then]
    [/if]
[/event]

[event]
    name=recruit
    [filter]
        ability=summon_replicate0
    [/filter]
    {SUMMON_REPLICATE0_MENU}
[/event]

[event]
    name=post_advance
    [filter]
        ability=summon_replicate0
    [/filter]
    {SUMMON_REPLICATE0_MENU}
[/event]

[+abilities]
    # wmlxgettext: [/abilities]
    # wmllint: unbalanced-off
#enddef

#define SUMMON_REPLICATE0_MENU
    {SUMMON_MENU_ITEM replicate0_menu ( _ "Replicate unit (6 Gold)") 6 summon_replicate0 (FLDreplica0)}
#enddef

#define ABILITY_SUMMON_REPLICATE
    [dummy]
        id=summon_replicate
        name= _ "replicate"
        description= _ "This unit can replicate itself, but not in villages.

Replications have 3hp and can't reproduce any further. Replications will have base damages in case the unit had external upgrades."
    [/dummy]
    # wmllint: unbalanced-on
    # wmlxgettext: [abilities]
[/abilities]

[event]
    name=start
    [if]
        [have_unit]
            ability=summon_replicate
        [/have_unit]
        [then]
            {SUMMON_REPLICATE_MENU}
        [/then]
    [/if]
[/event]

[event]
    name=recruit
    [filter]
        ability=summon_replicate
    [/filter]
    {SUMMON_REPLICATE_MENU}
[/event]

[event]
    name=post_advance
    [filter]
        ability=summon_replicate
    [/filter]
    {SUMMON_REPLICATE_MENU}
[/event]

[+abilities]
    # wmlxgettext: [/abilities]
    # wmllint: unbalanced-off
#enddef

#define SUMMON_REPLICATE_MENU
    {SUMMON_MENU_ITEM replicate_menu ( _ "Replicate unit (8 Gold)") 8 summon_replicate (FLDreplica2)}
#enddef

#define ABILITY_SUMMON_REPLICATE2
    [dummy]
        id=summon_replicate2
        name= _ "replicate"
        description= _ "This unit can replicate itself, but not in villages.

Replications have 3hp and can't reproduce any further. Replications will have base damages in case the unit had external upgrades."
    [/dummy]
    # wmllint: unbalanced-on
    # wmlxgettext: [abilities]
[/abilities]

[event]
    name=start
    [if]
        [have_unit]
            ability=summon_replicate2
        [/have_unit]
        [then]
            {SUMMON_REPLICATE2_MENU}
        [/then]
    [/if]
[/event]

[event]
    name=recruit
    [filter]
        ability=summon_replicate2
    [/filter]
    {SUMMON_REPLICATE2_MENU}
[/event]

[event]
    name=post_advance
    [filter]
        ability=summon_replicate2
    [/filter]
    {SUMMON_REPLICATE2_MENU}
[/event]

[+abilities]
    # wmlxgettext: [/abilities]
    # wmllint: unbalanced-off
#enddef

#define SUMMON_REPLICATE2_MENU
    {SUMMON_MENU_ITEM replicate2_menu ( _ "Replicate unit (13 Gold)") 13 summon_replicate2 (FLDreplica3)}
#enddef

##########################
##########################

######################
#define ABILITY_FURY
    [dummy]
        id=i8fury
        name= _ "fury"
        description=_ "This unit can attack another unit after killing an enemy."
    [/dummy]
    # wmllint: unbalanced-on
    # wmlxgettext: [abilities]
[/abilities]
[event]
    name=die
    first_time_only=no
    [filter_second]
        side=$side_number
        ability=i8fury
    [/filter_second]

    [store_unit]
        variable=i8furious
        [filter]
            x,y=$x2,$y2
        [/filter]
    [/store_unit]
    {VARIABLE_OP i8furious.attacks_left add 1}
    [unstore_unit]
        variable=i8furious
        {COLOR_HARM}
        text= _ "FURIA!"
        find_vacant=no
    [/unstore_unit]
[/event]
[+abilities]
    # wmlxgettext: [/abilities]
    # wmllint: unbalanced-off
#enddef
######################

###########################
##########################
######################

#define ABILITY_CHAOSAURA
    [heals]
        value=-4
        id=chaosaura
        affect_enemies=yes
        affect_allies=no
        name= _ "chaos aura"
        female_name= _ "chaos aura"
        description= _ "Chaos aura deal 4 damage to enemy units next to it at the start of your turn."
        affect_self=no
        poison=slowed
        [affect_adjacent]
            adjacent=n,ne,se,s,sw,nw
        [/affect_adjacent]
    [/heals]
#enddef

#define ABILITY_ETERNALAURA
    [heals]
        value=-6
        id=eternalaura
        affect_enemies=yes
        affect_allies=no
        name= _ "eternal aura"
        female_name= _ "eternal aura"
        description= _ "Eternal aura deal 6 damage to enemy units next to it at the start of your turn."
        affect_self=no
        poison=slowed
        [affect_adjacent]
            adjacent=n,ne,se,s,sw,nw
        [/affect_adjacent]
    [/heals]
#enddef

#define ABILITY_MASTER_OF_LEADERSHIP
    [leadership]
        id=leadership
        value=125
        cumulative=no
        name= _ "master of leadership"
        female_name= _ "master of leadership"
        description= _ "Works like level 6 leadership. Nothing more to say."
        affect_self=no
        [affect_adjacent]
            adjacent=n,ne,se,s,sw,nw
            [filter]
                level=0
            [/filter]
        [/affect_adjacent]
    [/leadership]
    [leadership]
        id=leadership
        value=125
        cumulative=no
        affect_self=no
        [affect_adjacent]
            adjacent=n,ne,se,s,sw,nw
            [filter]
                level=1
            [/filter]
        [/affect_adjacent]
    [/leadership]
    [leadership]
        id=leadership
        value=100
        cumulative=no
        affect_self=no
        [affect_adjacent]
            adjacent=n,ne,se,s,sw,nw
            [filter]
                level=2
            [/filter]
        [/affect_adjacent]
    [/leadership]
    [leadership]
        id=leadership
        value=75
        cumulative=no
        affect_self=no
        [affect_adjacent]
            adjacent=n,ne,se,s,sw,nw
            [filter]
                level=3
            [/filter]
        [/affect_adjacent]
    [/leadership]
    [leadership]
        id=leadership
        value=50
        cumulative=no
        affect_self=no
        [affect_adjacent]
            adjacent=n,ne,se,s,sw,nw
            [filter]
                level=4
            [/filter]
        [/affect_adjacent]
    [/leadership]
#enddef
